var t=require("javascript-interface-library"),e=require("htm/preact");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=/*#__PURE__*/n(require("hyperactiv"));function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function r(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function a(t,e){return e||(e=t.slice(0)),t.raw=e,t}function s(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var u,d,p,h,c,g,f,y,x,m,v,w,b,S,W,P,V,I,U,X,D,C,T,k,_,A,H,L,M,F,O,N,E,z,R,B,j,q,Y,G,$,K,Z,J,Q,tt,et,nt,it,ot,rt,lt,at,st,ut,dt,pt,ht,ct,gt,ft,yt,xt,mt,vt,wt,bt,St,Wt,Pt,Vt,It,Ut,Xt,Dt,Ct,Tt,kt,_t,At,Ht,Lt,Mt,Ft,Ot,Nt,Et,zt,Rt,Bt,jt,qt,Yt,Gt,$t,Kt,Zt,Jt,Qt,te,ee,ne,ie,oe,re,le,ae,se,ue,de,pe,he,ce,ge,fe=["Id","Classes","Style","x","y","z","Width","Height","Title","closeable","View","WidgetList"],ye=["Id","Classes","Style","x","y","z","Width","Height","Title","closeable","minWidth","minHeight","maxWidth","maxHeight","View","WidgetList"],xe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","hidden","View","WidgetList"],me=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","hidden","View","WidgetList"],ve=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],we=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],be=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],Se=["Id","Type","Classes","Style","x","y","Width","Height","Value","View","WidgetList"],We=["Id","Type","Classes","Style","x","y","Width","Height","Value","View","WidgetList"],Pe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","ImageScaling","ImageAlignment","WidgetList","View"],Ve=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","PermissionsPolicy","allowsFullscreen","SandboxPermissions","ReferrerPolicy","WidgetList","View"],Ie=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Color","disabled","onClick","View"],Ue=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Color","Options","disabled","onInput","View"],Xe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],De=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],Ce=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],Te=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],ke=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],_e=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Hashmarks","View"],Ae=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],He=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],Le=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Me=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Fe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Oe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Ne=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Ee=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],ze=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Re=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Be=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],je=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],qe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View","Placeholder","onDrop"],Ye=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Suggestions","View"],Ge=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Options","Placeholder","View"],$e=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View"],Ke=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","onDrop","View","WidgetList"],Ze=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","View","WidgetList"],Je=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","Expansion","View","WidgetList"],Qe=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View","WidgetList"],tn=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View","WidgetList"],en=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View","WidgetList"],nn=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","Value","View","WidgetList"],on=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","List","ItemRenderer","Placeholder","selectedIndices","SelectionLimit","onSelectionChange","onItemSelected","onItemDeselected","View","WidgetList"],rn=["Id","Type","Classes","Style","Anchoring","x","y","Width","Height","List","ItemRenderer","Placeholder","LabelOfItem","ContentListOfItem","selectedPaths","SelectionLimit","SelectionMode","onSelectionChange","onItemSelected","onItemDeselected","onItemDoubleClicked","expandedPaths","Indentation","onExpansionChange","onItemExpanded","onItemCollapsed","View","WidgetList"],ln=["Id","Type","Classes","Style","x","y","Width","Height","Substitute","Placeholder","View","WidgetList"],an=i.default.observe,sn=i.default.computed,un=document.createElement("style");function dn(t){var e=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(t);if(null==e)throw new Error(t);var n=new Error(e[2]);throw n.name=e[1],n}function pn(e){dn("ReadOnlyProperty: property "+t.quoted(e)+" must not be set")}un.setAttribute("id","ProtoUX"),un.innerHTML="/*******************************************************************************\n*                                                                              *\n*                                ProtoUX (PUX)                                 *\n*                                                                              *\n*******************************************************************************/\n\n  .PUX {\n    display:block; position:absolute;\n    margin:0px;\n    background:none;\n    border:none; border-radius:0px;\n    box-shadow:none;\n    padding:0px;\n  }\n\n  .PUX.Screen {\n    background:white; color:black;\n    font-family:'Source Sans Pro','Helvetica Neue',Helvetica,Arial,sans-serif;\n    font-size:14px; font-weight:normal; line-height:1.4; color:black;\n    text-align:left; text-shadow:none;\n  }\n\n  .textured { background-image:repeat }\n\n  .vertically-centered {\n    display:flex; align-items:center;\n  }\n\n  .disabled, [disabled] { opacity:0.3 }\n  .readonly             { background:none }\n  .no-pointer-events    { pointer-events:none }\n\n  .scrollable   { overflow:scroll }\n  .scrollable-x { overflow-x:scroll; overflow-y:hidden }\n  .scrollable-y { overflow-x:hidden; overflow-y:scroll }\n\n  .PUX.Box       { background-color:white }\n  .PUX.Container {}\n  .PUX.Group     {}\n\n  .PUX.Title    { font-size:20px; font-weight:normal; padding:0px 0px 0px 0px; text-align:left }\n  .PUX.Subtitle { font-size:16px; font-weight:normal; padding:0px 0px 0px 0px; text-align:left }\n  .PUX.Label    { font-size:14px; font-weight:bold;   padding:4px 0px 0px 0px; text-align:left }\n  .PUX.Textline { font-size:14px; font-weight:normal; padding:4px 0px 0px 0px; text-align:left }\n  .PUX.Hint     { font-size:12px; font-weight:normal; padding:4px 0px 0px 0px; text-align:left }\n  .PUX.Text     { font-size:14px; font-weight:normal; padding:2px 0px 0px 0px; text-align:justify }\n\n  .PUX.HTMLView  {}\n  .PUX.TextView  {}\n  .PUX.ImageView { object-fit:contain; object-position:center center }\n  .PUX.WebView   {}\n\n  .PUX.Icon { width:24px; height:24px }\n\n  .PUX.PseudoDropDown { width:24px; height:24px }\n  .PUX.PseudoDropDown > select {\n    display:block; position:absolute;\n    left:0px; top:0px; right:0px; bottom:0px;\n    opacity:0.01;\n  }\n\n  .PUX.Button > button, .PUX.Checkbox > input, .PUX.Radiobutton > input,\n  .PUX.Gauge > meter, .PUX.Progressbar > progress, .PUX.Slider > input,\n  .PUX.TextlineInput > input, .PUX.PasswordInput > input,\n  .PUX.NumberInput > input, .PUX.PhoneNumberInput > input,\n  .PUX.EMailAddressInput > input, .PUX.URLInput > input,\n  .PUX.TimeInput > input, .PUX.DateTimeInput > input, .PUX.DateInput > input,\n  .PUX.WeekInput > input, .PUX.MonthInput > input, .PUX.SearchInput > input,\n  .PUX.ColorInput > input, .PUX.DropDown > select, .PUX.FileInput > input,\n  .PUX.TextInput > textarea {\n    left:0px; top:0px; width:100%; height:100%;\n    margin:0px; padding:0px;\n    background:transparent; color:inherit;\n  }\n\n  .PUX.TextlineInput > input, .PUX.PasswordInput > input,\n  .PUX.NumberInput > input, .PUX.PhoneNumberInput > input,\n  .PUX.EMailAddressInput > input, .PUX.URLInput > input,\n  .PUX.TimeInput > input, .PUX.DateTimeInput > input, .PUX.DateInput > input,\n  .PUX.WeekInput > input, .PUX.MonthInput > input, .PUX.SearchInput > input,\n  .PUX.ColorInput > input, .PUX.DropDown > select, .PUX.FileInput > input,\n  .PUX.TextInput > textarea {\n    border:solid 1px #888888; border-radius:2px;\n    background:#e8f0ff; padding:0px 2px 0px 2px;\n  }\n\n  .PUX.TextlineInput > input:read-only, .PUX.PasswordInput > input:read-only,\n  .PUX.NumberInput > input:read-only, .PUX.PhoneNumberInput > input:read-only,\n  .PUX.EMailAddressInput > input:read-only, .PUX.URLInput > input:read-only,\n  .PUX.TimeInput > input:read-only, .PUX.DateTimeInput > input:read-only,\n  .PUX.DateInput > input:read-only, .PUX.WeekInput > input:read-only,\n  .PUX.MonthInput > input:read-only, .PUX.SearchInput > input:read-only,\n  .PUX.ColorInput > input:read-only, .PUX.DropDown > select:read-only,\n  .PUX.FileInput > input:read-only, .PUX.TextInput > textarea:read-only {\n    background:transparent;\n  }\n\n  .PUX.Button > button {\n    background:white;\n    border:solid 1px black; border-radius:4px;\n    background:transparent; color:inherit;\n  }\n\n  .PUX.FileInput {\n    color:lightgray;\n    border:solid 1px black; border-radius:3px;\n  }\n  .PUX.FileInput > span {\n    display:flex; align-items:center; position:absolute; overflow:hidden;\n    left:0px; top:0px; width:100%; height:100%;\n    padding:0px 2px 0px 2px; text-overflow:ellipsis;\n  }\n\n  .PUX.TextInput > textarea { border:none; background:#e8f0ff; padding:2px }\n  .PUX.TextInput.no-resize > textarea { resize:none }\n\n  .PUX.horizontalSeparator {\n    height:1px; margin:0px; margin-top:7px;\n    border:none; border-top:solid 1px black\n  }\n  .PUX.verticalSeparator {\n    width:1px; margin:0px; margin-left:7px;\n    border:none; border-left:solid 1px black\n  }\n\n  .PUX.FileDropArea {/*\n    display:flex; flex-flow:column nowrap;\n      justify-content:center; align-items:center;*/\n    border:dashed 4px #DDDDDD; border-radius:4px;\n    color:#DDDDDD;\n  }\n\n  .PUX.FileDropArea * { pointer-events:none }\n\n  .PUX.FileDropArea > input[type=\"file\"] {\n    display:block; position:absolute; appearance:none;\n    left:0px; top:0px; right:0px; bottom:0px;\n    opacity:0.01;\n  }\n\n  .PUX.Accordion {\n    display:flex; flex-flow:column nowrap; align-items:stretch;\n    overflow:auto;\n  }\n\n  .PUX.Fold {\n    display:block; position:relative;\n    left:0px; top:0px; width:100%; bottom:auto;\n  }\n\n  .PUX.Fold-Header {\n    display:block; position:relative;\n    width:100%; height:30px; background:#EEEEEE; border:none;\n    border-top:   solid 1px #FFFFFF;\n    border-bottom:solid 1px #AAAAAA;\n  }\n\n  .PUX.Fold-Expander {\n    left:2px; top:2px; width:24px; height:24px;\n  }\n\n  .PUX.Fold-Title {\n    left:30px; top:0px; bottom:0px; right:0px;\n    font-size:14px; font-weight:bold; color:black; line-height:30px;\n  }\n\n  .PUX.Fold-Content {\n    display:block; position:relative;\n    left:0px; top:0px; width:100%; height:auto;\n  }\n  .PUX.Deck {}\n\n  .PUX.Card {\n    left:0px; top:0px; right:0px; bottom:0px; width:auto; height:auto;\n    border:none;\n  }\n  .PUX.TabStrip {\n    display:flex; flex-flow:row nowrap; align-items:stretch;\n  }\n\n  .PUX.Tab {\n    display:block; position:relative;\n    left:0px; top:0px; height:100%; width:auto;\n    border:none; border-width:0px 0px 4px 0px;\n  }\n  .PUX.Tab.active { border-style:solid; border-color:black }\n\n  .PUX.Tab > * { pointer-events:none }\n\n  .PUX.FlatListView {\n    display:flex; flex-flow:column nowrap; align-items:stretch;\n    overflow:scroll; overflow-x:auto; overflow-y:scroll;\n  }\n\n  .PUX.FlatListView > div {\n    display:block; position:relative; overflow:hidden; flex:0 0 auto;\n    left:0px; top:0px; width:auto; height:22px; line-height:22px;\n    background:none;\n    border:none; border-bottom:solid 1px light-gray;\n    white-space:nowrap; text-overflow:ellipsis;\n    user-select:none;\n  }\n\n  .PUX.FlatListView > div:last-child {\n    border:none; border-bottom:solid 1px transparent;\n  }\n\n  .PUX.FlatListView > div.selected {\n    background:dodgerblue; color:white;\n  }\n\n\n  .PUX.NestedListView {\n    display:flex; flex-flow:column nowrap; align-items:stretch;\n    overflow:scroll; overflow-x:auto; overflow-y:scroll;\n  }\n\n  .PUX.NestedListView .ItemView {\n    display:flex; flex-flow:column nowrap; align-items:stretch;\n      position:relative; overflow:hidden; flex:0 0 auto;\n    left:0px; top:0px; width:auto; height:auto;\n    background:none; border:none;\n    user-select:none;\n  }\n\n  .PUX.NestedListView .ItemLine {\n    display:flex; flex-flow:row nowrap; align-items:stretch;\n      position:relative; flex:0 0 auto;\n    height:22px; line-height:22px;\n    white-space:nowrap; text-overflow:ellipsis;\n  }\n\n  .PUX.NestedListView .ItemIcon {\n    display:inline-block; position:relative;\n    margin:6px 2px 0px 2px; width:10px; height:10px;\n    pointer-events:none;\n  }\n\n  .PUX.NestedListView .ItemExpander {\n    display:inline-block; position:relative;\n    margin-top:4px; width:14px; height:14px;\n    pointer-events:auto;\n  }\n\n  .PUX.NestedListView .ItemLabel {\n    display:inline-block; position:relative; flex:1 0 auto;\n    pointer-events:none;\n  }\n\n  .PUX.NestedListView .ItemLine.selected > .ItemLabel {\n    background:dodgerblue; color:white;\n  }\n\n  .PUX.ModalLayer {\n    display:block; position:absolute;\n    background:rgba(0,0,0,0.3); border:none;\n  }\n\n\n  .PUX.Dialog, .PUX.ResizableDialog {\n    display:block; position:absolute;\n    border:solid 1px #000000; border-radius:4px;\n    background:white; color:black;\n    box-shadow:0px 0px 10px 0px rgba(0,0,0,0.3);\n  }\n\n  .PUX.Dialog > .Titlebar, .PUX.ResizableDialog > .Titlebar {\n    display:block; position:absolute; overflow:hidden;\n    left:0px; top:0px; right:0px; height:30px;\n    background:#EEEEEE; border:none; border-radius:3px 3px 0px 0px;\n    user-select:none;\n  }\n\n  .PUX.Dialog > .Titlebar > .Title, .PUX.ResizableDialog > .Titlebar > .Title {\n    display:block; position:absolute;\n    left:6px; top:3px; right:30px; height:18px;\n    border:none;\n    font-weight:bold; color:black;\n    user-select:none; pointer-events:none;\n  }\n\n  .PUX.Dialog > .Titlebar > .CloseButton, .PUX.ResizableDialog > .Titlebar > .CloseButton {\n    display:block; position:absolute;\n    top:0px; right:0px; width:30px; height:30px;\n    border:none;\n    user-select:none;\n  }\n\n  .PUX.ResizableDialog > .ContentPane {\n    display:block; position:absolute;\n    left:0px; top:0px; right:0px; bottom:9px;\n    border:none;\n  }\n\n  .PUX.ResizableDialog > .leftResizer {\n    display:block; position:absolute;\n    left:0px; bottom:0px; width:30px; height:9px;\n    border:none; border-top:solid 1px black; border-right:solid 1px black;\n    border-radius:0px 0px 0px 3px;\n    cursor:nesw-resize;\n  }\n\n  .PUX.ResizableDialog > .middleResizer {\n    display:block; position:absolute;\n    left:30px; bottom:0px; right:30px; height:9px;\n    border:none; border-top:solid 1px black;\n    border-radius:0px;\n    cursor:ns-resize;\n  }\n\n  .PUX.ResizableDialog > .rightResizer {\n    display:block; position:absolute;\n    bottom:0px; right:0px; width:30px; height:9px;\n    border:none; border-left:solid 1px black; border-top:solid 1px black;\n    border-radius:0px 0px 3px 0px;\n    cursor:nwse-resize;\n  }\n\n\n\n/**** centered ****/\n\n  .centered {\n    display:block; position:relative;\n    width:100%; height:100%; max-height:240px;\n  }\n\n  .centered > * {\n    display:block; position:absolute;\n    left:50%; top:50%;\n    transform:translate(-55%,-50%);\n    white-space:nowrap;\n  }\n\n",document.head.appendChild(un);var hn=new WeakMap;function cn(t,e){var n,i=hn.get(t);if(null!=i)return i;function o(){}function r(t){t.stopImmediatePropagation(),t.preventDefault()}var l,a,s=e.onlyFrom,u=e.neverFrom,d=e.Threshold,p=void 0===d?0:d,h=e.onDragStarted,c=void 0===h?o:h,g=e.onDragContinued,f=void 0===g?o:g,y=e.onDragFinished,x=void 0===y?o:y,m=e.onDragCancelled,v=void 0===m?o:m,w="idle";function b(t){r(t),w="busy";var e=t.pageX,n=t.pageY;c(Math.round(e),Math.round(n),Math.round(e-l),Math.round(n-a),t)}function S(t){if(r(t),"idle"!==w){var e="busy"===w;w="idle",t.target.releasePointerCapture(t.pointerId),e&&v(Math.round(l),Math.round(a),0,0,t)}n=void 0}return(i=function(t){switch(t.type){case"pointerdown":return function(t){t.isPrimary&&(null!=s&&(s instanceof HTMLElement&&s!==t.target||"string"==typeof s&&!t.target.matches(s))||null!=u&&(u instanceof HTMLElement&&u===t.target||"string"==typeof u&&t.target.matches(u))||(0===t.button?(t.target.setPointerCapture(t.pointerId),n=t.target,"idle"===w&&(l=t.pageX,a=t.pageY,p>0?w="observing":b(t))):S(t)))}(t);case"pointermove":return function(t){if("idle"!==w&&t.target!==n&&(t.target.setPointerCapture(t.pointerId),n=t.target,console.log("ProtoUX: PointerTarget changed")),"observing"===w){var e=t.pageY;Math.pow(l-t.pageX,2)+Math.pow(a-e,2)>=Math.pow(p,2)&&b(t)}else"busy"===w&&function(t){r(t);var e=t.pageX,n=t.pageY;f(Math.round(e),Math.round(n),Math.round(e-l),Math.round(n-a),t)}(t)}(t);case"pointerup":return function(t){"busy"===w?function(t){r(t),w="idle";var e=t.pageX,i=t.pageY;x(Math.round(e),Math.round(i),Math.round(e-l),Math.round(i-a),t),n=void 0}(t):S(t)}(t);case"pointercancel":return function(t){S(t)}(t)}}).abortDragging=S,hn.set(t,i),i}var gn=new WeakMap,fn=/*#__PURE__*/function(){function n(t){void 0===t&&(t="PUX"),this._IdPrefix=void 0,this._ImageFolder="",this._ScreenSet={},this._DialogSet={},this._observed=an({},{deep:!1}),this._UpdaterList=[],this._StartScreen={},this._openScreen={},this._openDialogs=[],this._View=void 0,this._IdPrefix=t}var i,o,r=n.prototype;return r.ScreenNamed=function(t){return this._ScreenSet[t]},r.existingScreenNamed=function(e){var n=this._ScreenSet[e];return null==n&&dn("NoSuchScreen: a screen named "+t.quoted(e)+" does not exist"),n},r.packScreen=function(t,e,n){void 0===e&&(e=10),null==n&&(n=e);var i=this.existingScreenNamed(t);if(null!=i.packedGeometry){var o=i.packedGeometry,r=o.x,l=o.y,a=o.Width,s=o.Height;r-=e,l-=n,s+=2*n,i.Width=a+=2*e,i.Height=s,i.WidgetList.forEach(function(t){t.hidden||(t.x-=r,t.y-=l)})}},r.openScreen=function(t){var e=this.existingScreenNamed(t);this._openScreen!==e&&(this._openScreen=e,this.rerender())},r.closeScreen=function(t){var e=this.ScreenNamed(t);null!=e&&this._openScreen===e&&(this._openScreen=this._StartScreen,this.rerender())},r.ScreenIsOpen=function(t){var e=this.existingScreenNamed(t);return this._openScreen===e},r.startWithScreen=function(t){this._StartScreen=this.existingScreenNamed(t),this.openScreen(t)},r.extractAllDialogs=function(){for(var e in this._ScreenSet)for(var n=this._ScreenSet[e].WidgetList,i=n.length-1;i>=0;i--){var o=n[i];if("Dialog"===o.Type||"ResizableDialog"===o.Type){if(!t.ValueIsNonEmptyString(o.Name)){console.error('Dialog without name in screen "'+e+'"');continue}if(o.Name in this._DialogSet){console.error('a dialog with name "'+o.Name+'" has already been registered');continue}this._DialogSet[o.Name]=o,n.splice(i,1)}}},r.DialogNamed=function(t){return this._DialogSet[t]},r.existingDialogNamed=function(e){var n=this._DialogSet[e];return null==n&&dn("NoSuchDialog: a dialog named "+t.quoted(e)+" does not exist"),n},r.openDialog=function(t){var e=this.existingDialogNamed(t),n=this._openDialogs.indexOf(e);if(n>=0){if(n===this._openDialogs.length-1)return;this._openDialogs.splice(n,1)}this._openDialogs.push(e),this.rerender(),"function"==typeof e.onOpen&&e.onOpen(e)},r.closeDialog=function(t){var e=this.DialogNamed(t);if(null!=e){var n=this._openDialogs.indexOf(e);n<0||(this._openDialogs.splice(n,1),this.rerender(),"function"==typeof e.onClose&&e.onClose(e))}},r.DialogIsOpen=function(t){var e=this.existingDialogNamed(t);return this._openDialogs.indexOf(e)>=0},r.closeAllDialogs=function(){this._openDialogs.length=0,this.rerender()},r.DialogIsFrontMost=function(t){var e=this.existingDialogNamed(t);return this._openDialogs.indexOf(e)===this._openDialogs.length-1},r.bringDialogToFront=function(t){this.openDialog(t)},r.WidgetNamed=function(t){var e=this._ScreenSet;for(var n in e)for(var i=e[n].WidgetList,o=0,r=i.length;o<r;o++)if(i[o].Name===t)return i[o]},r.existingWidgetNamed=function(e){var n=this.WidgetNamed(e);return null==n&&dn("NoSuchWidget: a widget named "+t.quoted(e)+" does not exist"),n},r.WidgetOnScreen=function(t,e){for(var n=e.WidgetList||[],i=0,o=n.length;i<o;i++)if(n[i].Name===t)return n[i]},r.WidgetOnDialog=function(t,e){return this.WidgetOnScreen(t,e)},r.existingWidgetOnScreen=function(e,n){var i=this.WidgetOnScreen(e,n);return null==i&&dn("NoSuchWidget: screen "+t.quoted(n.Name)+" does not contain a widget named "+t.quoted(e)),i},r.existingWidgetOnDialog=function(e,n){var i=this.WidgetOnDialog(e,n);return null==i&&dn("NoSuchWidget: dialog "+t.quoted(n.Name)+" does not contain a widget named "+t.quoted(e)),i},r.WidgetInContainer=function(t,e){for(var n=e.WidgetList||[],i=0,o=n.length;i<o;i++)if(n[i].Name===t)return n[i]},r.existingWidgetInContainer=function(e,n){var i=this.WidgetInContainer(e,n);return null==i&&dn("NoSuchWidget: could not find widget named "+t.quoted(e)),i},r.stuff=function(e){for(var n in e){var i=this.ScreenNamed(n);if(null==i){var o=this.DialogNamed(n);null==o?dn("NoSuchScreenOrDialog: no screen or dialog named "+t.quoted(n)+" found"):this.stuffDialog(o,e[n])}else this.stuffScreen(i,e[n])}},r.stuffScreen=function(t,e){for(var n in e){var i=this.existingWidgetOnScreen(n,t);this.stuffWidget(i,e[n])}},r.stuffDialog=function(t,e){for(var n in e){var i=this.existingWidgetOnDialog(n,t);this.stuffWidget(i,e[n])}},r.stuffWidget=function(t,e){var n=this;if(this.ValueIsStuff(e)){var i=this.existingScreenNamed(e.from);t.WidgetList=(t.WidgetList||[]).concat(e.with.map(function(t){return n.existingWidgetOnScreen(t,i)}))}else for(var o in e){var r=this.existingWidgetInContainer(o,t);this.stuffWidget(r,e[o])}},r.ValueIsStuff=function(e){return t.ValueIsPlainObject(e)&&t.ValueIsString(e.from)&&t.ValueIsListSatisfying(e.with,t.ValueIsString)},r.configure=function(e){for(var n in e){var i=this.ScreenNamed(n);if(null==i){var o=this.DialogNamed(n);null==o?dn("NoSuchScreenOrDialog: no screen or dialog named "+t.quoted(n)+" found"):this.configureDialog(o,e[n])}else this.configureScreen(i,e[n])}},r.configureScreen=function(t,e){for(var n in e)if("self"===n)this.configureWidget(t,e.self);else{var i=this.existingWidgetOnScreen(n,t);this.configureWidget(i,e[n])}},r.configureDialog=function(t,e){for(var n in e)if("self"===n)this.configureWidget(t,e.self);else{var i=this.existingWidgetOnDialog(n,t);this.configureWidget(i,e[n])}},r.configureWidget=function(e,n){var i=this,o=function(o){var r=n[o];if(t.ValueIsPlainObject(r)&&t.ValueIsFunction(r.Updater))i._UpdaterList.push(sn(function(){var t;i.updateWidget(e,((t={})[o]=r.Updater(),t))}));else{if(t.ValueIsPlainObject(r)&&null!=e.WidgetList){var l=i.WidgetInContainer(o,e);if(null!=l)return i.configureWidget(l,r),1}e[o]=r}};for(var r in n)o(r)},r.update=function(e){for(var n in e){var i=this.ScreenNamed(n);if(null==i){var o=this.DialogNamed(n);null==o?dn("NoSuchScreenOrDialog: no screen or dialog named "+t.quoted(n)+" found"):this.updateDialog(o,e[n])}else this.updateScreen(i,e[n])}},r.updateScreen=function(t,e){for(var n in e)if("self"===n)this.updateWidget(t,e.self);else{var i=this.existingWidgetOnScreen(n,t);this.updateWidget(i,e[n])}},r.updateDialog=function(t,e){for(var n in e)if("self"===n)this.updateWidget(t,e.self);else{var i=this.existingWidgetOnDialog(n,t);this.updateWidget(i,e[n])}},r.updateWidget=function(t,e){for(var n in e)t[n]=e[n];var i=t.View;null!=i&&i.rerender()},r.updatedFrom=function(t){return{Updater:t}},r.renderInto=function(t){e.render(e.html(u||(u=a(["<"," ProtoUX=","/>"])),yn,this),t)},r.rerender=function(){null!=this._View&&this._View.rerender()},n.registerWidgetView=function(t,e){n._WidgetViewRegistry[t]=e},n.WidgetViewForType=function(t){return n._WidgetViewRegistry[t]},i=n,(o=[{key:"ImageFolder",get:function(){return this._ImageFolder},set:function(t){""===(t=t.trim())||t.endsWith("/")||(t+="/"),this._ImageFolder=t}},{key:"Style",get:function(){var t=document.getElementById(this._IdPrefix+"-Style");return null==t?"":t.innerHTML},set:function(t){var e=this._IdPrefix+"-Style",n=this._ImageFolder;""!==n&&(t=t.replace(/url\("\/images\//g,'url("'+n));var i=document.getElementById(e);null==i&&((i=document.createElement("style")).setAttribute("id",e),document.head.appendChild(i)),i.innerHTML=t}},{key:"ScreenSet",get:function(){return this._ScreenSet},set:function(t){for(var e in this._ScreenSet=t,t){this._StartScreen=t[e];break}for(var n in t)Object.assign(t[n],{dX:0,dY:0,dW:0,dH:0})}},{key:"observed",get:function(){return this._observed},set:function(t){pn("observed")}},{key:"StartScreen",get:function(){return this._StartScreen},set:function(t){pn("StartScreen")}},{key:"openDialogs",get:function(){return this._openDialogs.slice()},set:function(t){pn("openDialogs")}},{key:"View",get:function(){return this._View},set:function(t){pn("View")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}();fn._WidgetViewRegistry=Object.create(null);var yn=/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state={Value:0},e}o(n,t);var i=n.prototype;return i.rerender=function(){this.setState({Value:this.state.Value+1})},i.render=function(t){var n=t.ProtoUX;n._View=this;var i=n._openScreen,o=n._openDialogs.slice(),r=o.pop(),l=1==(null==r?void 0:r.isModal);return e.html(d||(d=a(['<div style="\n        display:block; position:absolute;\n        left:0px; top:0px; right:0px; bottom:0px;\n      ">\n        <'," ProtoUX="," Screen=","/>\n        ","\n        ","\n        ","\n      </div>"])),xn,n,i,o.map(function(t){return e.html(p||(p=a(["<"," ProtoUX="," Dialog="," key=","/>"])),vn,n,t,t.Name)}),l?e.html(h||(h=a(["<","/>"])),mn):"",null==r?"":e.html(c||(c=a(["<"," ProtoUX="," Dialog="," key=","/>"])),vn,n,r,r.Name))},n}(e.Component),xn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Screen;n.View=this;var i=n.Id,o=n.Classes,r=n.Style,l=n.Width,s=n.Height,u=n.WidgetList;return e.html(g||(g=a(["<div class="," id=",' style="\n        width:',"px; height:","px; ",'\n      ">\n        ',"\n      </div>"])),In("PUX Screen",o),i,l,s,r||"",u.map(function(n){return e.html(f||(f=a(["<"," Widget="," ProtoUX="," key=","/>"])),Sn,n,t.ProtoUX,n.Name)}))},n}(e.Component),mn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Style;return e.html(y||(y=a(['<div class="PUX ModalLayer" style="\n        ',';\n        display:block; position:absolute;\n        left:0px; top:0px; right:0px; bottom:0px;\n      " onClick=',"/>"])),n||"",function(t){t.stopImmediatePropagation(),t.preventDefault()})},n}(e.Component),vn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Dialog;return"ResizableDialog"===n.Type?e.html(x||(x=a(["<"," Dialog="," ProtoUX=","/>"])),bn,n,t.ProtoUX):e.html(m||(m=a(["<","  Dialog="," ProtoUX=","/>"])),wn,n,t.ProtoUX)},n}(e.Component),wn=/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state={Value:0},e}o(n,t);var i=n.prototype;return i.rerender=function(){this.setState({Value:this.state.Value+1})},i.render=function(t){var n=t.Dialog;n.View=this;var i=function(e,i,o,r){n.x=n._DragOffset.x+o,n.y=n._DragOffset.y+r,n.z=20001e3,t.ProtoUX.View.rerender()},o=function(e,o,r,l){i(0,0,r,l),n.z=2e6,t.ProtoUX.bringDialogToFront(n.Name)},l=cn(n,{neverFrom:".CloseButton",Threshold:4,onDragStarted:function(t,e,o,r){n._DragOffset={x:n.x,y:n.y},i(0,0,o,r)},onDragContinued:i,onDragFinished:o,onDragCancelled:o}),s=n.Id,u=n.Classes,d=n.Style,p=n.x,h=n.y,c=n.z,g=n.Width,f=n.Height,y=n.Title,x=n.closeable,m=n.WidgetList,b=r(n,fe),S="left:"+p+"px; top:"+h+"px; width:"+g+"px; height:"+f+"px; right:auto; bottom:auto;";return e.html(v||(v=a(["<div class="," id=",' style="\n        ',"; ","; z-index:",';\n      " ...','>\n        <div class="Titlebar"\n          onPointerDown='," onPointerUp=","\n          onPointerMove="," onPointerCancel=",'\n        >\n          <div class="Title">','</div>\n          <img class="CloseButton" src="','/xmark.png"\n            style="visibility:','"\n            onClick=',"/>\n        </div>\n\n        ","\n      </>"])),In("PUX Dialog",u),s,d||"",S,c||2e6,b,l,l,l,l,y,t.ProtoUX._ImageFolder,!1===x?"hidden":"visible",function(e){e.stopImmediatePropagation(),e.preventDefault(),!1!==x&&t.ProtoUX.closeDialog(n.Name)},(m||[]).map(function(n){return e.html(w||(w=a(["<"," Widget="," ProtoUX="," key=","/>"])),Sn,n,t.ProtoUX,n.Name)}))},n}(e.Component),bn=/*#__PURE__*/function(n){function i(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).state={Value:0},t}o(i,n);var l=i.prototype;return l.rerender=function(){this.setState({Value:this.state.Value+1})},l.render=function(n){var i=n.Dialog;i.View=this;var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.z,h=i.Width,c=i.Height,g=i.Title,f=i.closeable,y=i.minWidth,x=i.minHeight,m=i.maxWidth,v=i.maxHeight,w=i.WidgetList,W=r(i,ye);t.allowOrdinal("minimal width",y),t.allowOrdinal("maximal width",m),t.allowOrdinal("minimal height",x),t.allowOrdinal("maximal height",v),null==y&&(y=120),null==m&&(m=Infinity),null==x&&(x=80),null==v&&(v=Infinity),y=Math.max(0,y),m=Math.max(y,m),x=Math.max(0,x),v=Math.max(x,v);var P=function(t,e,o,r){"drag"===i._DragMode?I(o,r):U(o,r),i.z=20001e3,n.ProtoUX.View.rerender()},V=function(t,e,o,r){P(0,0,o,r),i.z=2e6,n.ProtoUX.bringDialogToFront(i.Name)},I=function(t,e){i.x=i._DragOffset.x+t,i.y=i._DragOffset.y+e},U=function(t,e){switch(i._DragMode){case"resize-sw":var n=Math.max(y,Math.min(i._DragOffset.Width-t,m));i.x=i._DragOffset.x-(t=n-i._DragOffset.Width),i.Width=i._DragOffset.Width+t;break;case"resize-se":i.Width=Math.max(y,Math.min(i._DragOffset.Width+t,m))}i.Height=Math.max(x,Math.min(i._DragOffset.Height+e,v))},X=cn(i,{onlyFrom:".Titlebar,.leftResizer,.middleResizer,.rightResizer",neverFrom:".CloseButton",Threshold:4,onDragStarted:function(t,e,n,o,r){var l=r.target.classList;switch(i._DragMode=void 0,!0){case l.contains("leftResizer"):i._DragMode="resize-sw";break;case l.contains("middleResizer"):i._DragMode="resize-s";break;case l.contains("rightResizer"):i._DragMode="resize-se";break;default:i._DragMode="drag"}i._DragOffset={x:i.x,Width:i.Width,y:i.y,Height:i.Height},P(0,0,n,o)},onDragContinued:P,onDragFinished:V,onDragCancelled:V}),D="left:"+u+"px; top:"+d+"px; width:"+h+"px; height:"+c+"px; right:auto; bottom:auto;";return e.html(b||(b=a(["<div class="," id=",' style="\n        ',"; ","; z-index:",';\n      " ...','>\n        <div class="ContentPane">\n          ','\n        </div>\n\n        <div class="Titlebar"\n          onPointerDown='," onPointerUp=","\n          onPointerMove="," onPointerCancel=",'\n        >\n          <div class="Title">','</div>\n          <img class="CloseButton" src="','/xmark.png"\n            style="visibility:','"\n            onClick=','/>\n        </div>\n\n        <div class="leftResizer"\n          onPointerDown='," onPointerUp=","\n          onPointerMove="," onPointerCancel=",'\n        />\n        <div class="middleResizer"\n          onPointerDown='," onPointerUp=","\n          onPointerMove="," onPointerCancel=",'\n        />\n        <div class="rightResizer"\n          onPointerDown='," onPointerUp=","\n          onPointerMove="," onPointerCancel=","\n        />\n      </>"])),In("PUX ResizableDialog",l),o,s||"",D,p||2e6,W,(w||[]).map(function(t){return e.html(S||(S=a(["<"," Widget="," ProtoUX="," key=","/>"])),Sn,t,n.ProtoUX,t.Name)}),X,X,X,X,g,n.ProtoUX._ImageFolder,!1===f?"hidden":"visible",function(t){t.stopImmediatePropagation(),t.preventDefault(),!1!==f&&n.ProtoUX.closeDialog(i.Name)},X,X,X,X,X,X,X,X,X,X,X,X)},i}(e.Component),Sn=/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state={Value:0},e}o(n,t);var i=n.prototype;return i.rerender=function(){this.setState({Value:this.state.Value+1})},i.render=function(t){var i=t.Widget;if(i.View=this,1==t.hidden||1==i.hidden)return"";var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.Width,h=i.Height,c=i.WidgetList,g=r(i,xe),f=null!=u&&null!=p&&null!=d&&null!=h?"left:"+u+"px; top:"+d+"px; width:"+p+"px; height:"+h+"px; right:auto; bottom:auto;":"";switch(i.Type){case"Group":return e.html(W||(W=a(['<div class="PUX Widget ','" id=',' style="'," ",'" ...',">\n            ","\n          </div>"])),l,o,f,s||"",g,(c||[]).map(function(i){return e.html(P||(P=a(["<"," Widget="," ProtoUX="," key=","/>"])),n,i,t.ProtoUX,i.Name)}));case"Box":return e.html(V||(V=a(['<div class="PUX Widget ','" id=',' style="\n            '," ",'\n          " ...'," key=","/>"])),l,o,f,s||"",g,i.Name);default:var y=fn.WidgetViewForType(i.Type);if(null==y){var x=i.Id,m=i.Classes,v=i.Style,w=i.Value,b=i.WidgetList,S=r(i,me);return e.html(I||(I=a(['<div class="PUX Widget ','" id=',' style="\n              '," ",'\n            " ...',">\n              ","\n              ","\n            </div>"])),m,x,f,v||"",S,w||"",(b||[]).map(function(i){return e.html(U||(U=a(["<"," Widget="," ProtoUX="," key=","/>"])),n,i,t.ProtoUX,i.Name)}))}return e.html(X||(X=a(["<"," Widget="," ProtoUX="," key=","/>"])),y,i,t.ProtoUX,i.Name)}},n}(e.Component);fn.registerWidgetView("horizontalSeparator",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=r(n,ve),c=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(D||(D=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',"/>"])),In("PUX horizontalSeparator Widget",o),i,c,l||"",h)},n}(Sn)),fn.registerWidgetView("verticalSeparator",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=r(n,we),c=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(C||(C=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',"/>"])),In("PUX verticalSeparator Widget",o),i,c,l||"",h)},n}(Sn)),fn.registerWidgetView("Badge",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,be),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";switch(h=(""+(h||"")).trim(),!0){case""===h:return"";case h.length>1:h="#";default:return e.html(T||(T=a(["<div class="," id=",' style="\n          '," ",'\n        " ...',">","</div>"])),In("PUX Badge Widget",o),i,g,l||"",c,h)}},n}(Sn)),fn.registerWidgetView("HTMLView",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,Se),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(k||(k=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',"\n        dangerouslySetInnerHTML=","\n      />"])),In("PUX HTMLView Widget",o),i,g,l||"",c,{__html:h})},n}(Sn)),fn.registerWidgetView("TextView",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,We),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(_||(_=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">","</>"])),In("PUX TextView Widget",o),i,g,l||"",c,h)},n}(Sn)),fn.registerWidgetView("ImageView",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.ImageScaling,g=n.ImageAlignment,f=r(n,Pe),y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(A||(A=a(["<img class="," id=",' style="\n        '," ",";\n        object-fit:",";\n        object-position:",';\n      " ...'," src=","/>"])),In("PUX ImageView Widget",o),i,y,l||"","stretch"===c?"fill ":c,g,f,h)},n}(Sn)),fn.registerWidgetView("WebView",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.PermissionsPolicy,g=n.allowsFullscreen,f=n.SandboxPermissions,y=n.ReferrerPolicy,x=r(n,Ve),m=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(H||(H=a(["<iframe class="," id=",' style="\n        '," ",'\n      " ...'," src=","\n        allow="," allowfullscreen=","\n        sandbox=","\n        referrerpolicy=","\n      />"])),In("PUX WebView Widget",o),i,m,l||"",x,h,c,g,f||"allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-same-origin allow-scripts",y)},n}(Sn)),fn.registerWidgetView("Icon",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Color,g=n.disabled,f=n.onClick,y=r(n,Ie),x=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",m=t.ProtoUX.ImageFolder;return null!=h&&""!==h.trim()&&(h=h.trim().replace(/url\("\/images\//g,'url("'+m)),e.html(L||(L=a(["<div class="," id=",' style="\n        '," ",'\n      " disabled=','><div style="\n        display:block; position:absolute;\n        left:0px; top:0px; width:100%; height:100%;\n        -webkit-mask-image:',";         mask-image:",";\n        -webkit-mask-size:contain;           mask-size:contain;\n        -webkit-mask-position:center center; mask-position:center center;\n        background-color:",';\n      " onClick='," ...","/></>"])),In("PUX Icon Widget",o),i,x,l||"",g,h,h,c||"black",function(t){1==g?(t.stopPropagation(),t.preventDefault()):"function"==typeof f&&f(t)},y)},n}(Sn)),fn.registerWidgetView("PseudoDropDown",/*#__PURE__*/function(n){function i(){return n.apply(this,arguments)||this}return o(i,n),i.prototype.render=function(n){var i=n.Widget;i.View=this;var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.Width,h=i.Height,c=i.Value,g=i.Color,f=i.Options,y=i.disabled,x=i.onInput,m=r(i,Ue),v=null!=u&&null!=p&&null!=d&&null!=h?"left:"+u+"px; top:"+d+"px; width:"+p+"px; height:"+h+"px; right:auto; bottom:auto;":"",w=n.ProtoUX.ImageFolder;return null!=c&&""!==c.trim()&&(c=c.trim().replace(/url\("\/images\//g,'url("'+w)),e.html(M||(M=a(["<div class="," id=",' style="\n        '," ",'\n      "><div style="\n        display:block; position:absolute;\n        left:0px; top:0px; width:100%; height:100%;\n        -webkit-mask-image:',";         mask-image:",";\n        -webkit-mask-size:contain;           mask-size:contain;\n        -webkit-mask-position:center center; mask-position:center center;\n        background-color:",';\n      " ...',"/>\n        <select onInput=",">\n          ","\n        </select>\n      </div>"])),In("PUX PseudoDropDown Widget",l),o,v,s||"",c,c,g||"black",m,function(t){1==y?(t.stopPropagation(),t.preventDefault()):"function"==typeof x&&x(t)},t.ValueIsListSatisfying(f,t.ValueIsString)?e.html(F||(F=a(['\n                <option value="" disabled selected>please select</option>\n                ',"\n              "])),(f||[]).map(function(t){return e.html(O||(O=a(["<option>","</>"])),t)})):f)},i}(Sn)),fn.registerWidgetView("Button",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,Xe),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(N||(N=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <button ...',">","</button>\n      </div>"])),In("PUX Button Widget",o),i,g,l||"",c,h||"")},n}(Sn)),fn.registerWidgetView("Checkbox",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,De),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",f=t.checked,y=t.indeterminate;return null==f&&(f=1==h),null==y&&(y=null==h),e.html(E||(E=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <input type="checkbox" checked='," indeterminate="," ...","/>\n      </div>"])),In("PUX Checkbox Widget",o),i,g,l||"",f,y,c)},n}(Sn)),fn.registerWidgetView("Radiobutton",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,Ce),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",f=t.checked;return null==f&&(f=1==h),e.html(z||(z=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <input type="radio" checked='," ...","/>\n      </div>"])),In("PUX Radiobutton Widget",o),i,g,l||"",f,c)},n}(Sn)),fn.registerWidgetView("Gauge",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,Te),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(R||(R=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <meter value='," ...","/>\n      </div>"])),In("PUX Gauge Widget",o),i,g,l||"",h||"",c)},n}(Sn)),fn.registerWidgetView("Progressbar",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,ke),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(B||(B=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <progress value='," ...","/>\n      </div>"])),In("PUX Progressbar Widget",o),i,g,l||"",h||"",c)},n}(Sn)),fn.registerWidgetView("Slider",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Hashmarks,g=r(n,_e);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Hashmarks",x=e.html(j||(j=a(["\n<datalist id=",">\n          ","\n        </datalist>"],["\\n<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){var n=t.replace(/:.*$/,"").trim(),i=t.replace(/^[^:]+:/,"").trim();return e.html(q||(q=a(["<option label="," value=","></option>"])),n,i)}))),e.html(Y||(Y=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <input type="range" value='," ...","\n          onBlur="," list=","\n        />\n      </div>",""])),In("PUX Slider Widget",o),i,y,l||"",h||"",g,this.rerender.bind(this),f,x)},n}(Sn)),fn.registerWidgetView("TextlineInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Ae);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(G||(G=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html($||($=a(["<option value=","></option>"])),t)}))),e.html(K||(K=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="text" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX TextlineInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("PasswordInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,He);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(Z||(Z=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <input type="password" value='," ...","\n          onBlur=","\n        />\n      </div>"])),In("PUX PasswordInput Widget",o),i,g,l||"",h||"",c,this.rerender.bind(this))},n}(Sn)),fn.registerWidgetView("NumberInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Le);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(J||(J=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(Q||(Q=a(["<option value=","></option>"])),t)}))),e.html(tt||(tt=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="number" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX NumberInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("PhoneNumberInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Me);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(et||(et=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(nt||(nt=a(["<option value=","></option>"])),t)}))),e.html(it||(it=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="tel" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX PhoneNumberInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("EMailAddressInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Fe);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(ot||(ot=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(rt||(rt=a(["<option value=","></option>"])),t)}))),e.html(lt||(lt=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="email" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX EMailAddressInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("URLInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Oe);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(at||(at=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(st||(st=a(["<option value=","></option>"])),t)}))),e.html(ut||(ut=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="url" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX URLInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("TimeInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Ne);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(dt||(dt=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(pt||(pt=a(["<option value=","></option>"])),t)}))),e.html(ht||(ht=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="time" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX TimeInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("DateTimeInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Ee);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(ct||(ct=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(gt||(gt=a(["<option value=","></option>"])),t)}))),e.html(ft||(ft=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="datetime-local" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX DateTimeInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("DateInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,ze);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(yt||(yt=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(xt||(xt=a(["<option value=","></option>"])),t)}))),e.html(mt||(mt=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="date" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX DateInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("WeekInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Re);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(vt||(vt=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(wt||(wt=a(["<option value=","></option>"])),t)}))),e.html(bt||(bt=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="week" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX WeekInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("MonthInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Be);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(St||(St=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(Wt||(Wt=a(["<option value=","></option>"])),t)}))),e.html(Pt||(Pt=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="month" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX MonthInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("SearchInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,je);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(Vt||(Vt=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(It||(It=a(["<option value=","></option>"])),t)}))),e.html(Ut||(Ut=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="search" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX SearchInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("FileInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Placeholder,g=n.onDrop,f=r(n,qe);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(Xt||(Xt=a(["<label class="," id=",' style="\n        '," ",'\n      " onDragEnter='," onDragOver="," onDrop=",'>\n        <input type="file" style="display:none" ...',"\n          onBlur=","\n        />\n        ","\n        ","\n      </label>"])),In("PUX FileInput Widget",o),i,y,l||"",function(t){t.stopPropagation(),t.preventDefault()},function(t){t.stopPropagation(),t.preventDefault()},function(t){t.stopPropagation(),t.preventDefault(),"function"==typeof g&&g(t)},f,this.rerender.bind(this),""===(h||"")?"":e.html(Dt||(Dt=a(["<span>","</span>"])),h),""===(h||"")?""===(c||"")?"":e.html(Ct||(Ct=a(["<span>","</span>"])),c):"")},n}(Sn)),fn.registerWidgetView("ColorInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Suggestions,g=r(n,Ye);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var f,y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",x="";return Array.isArray(c)&&c.length>0&&(f=i+"-Suggestions",x=e.html(Tt||(Tt=a(["<datalist id=",">\n          ","\n        </datalist>"])),f,c.map(function(t){return e.html(kt||(kt=a(["<option value=","></option>"])),t)}))),e.html(_t||(_t=a(["<div class="," id=",' style="\n        '," ",'\n      " list=','>\n        <input type="color" value='," ...","\n          onBlur=","\n        />\n      </div>",""])),In("PUX ColorInput Widget",o),i,y,l||"",f,h||"",g,this.rerender.bind(this),x)},n}(Sn)),fn.registerWidgetView("DropDown",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.Options,g=n.Placeholder,f=r(n,Ge);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var y=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(At||(At=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <select ...'," onBlur=",">\n          ","\n          ","\n        </select>\n      </div>"])),In("PUX DropDown Widget",o),i,y,l||"",f,this.rerender.bind(this),null==g?"":e.html(Ht||(Ht=a(['<option value="" disabled>',"</option>"])),g),(c||[]).map(function(t){return e.html(Lt||(Lt=a(["<option selected=",">","</>"])),t===h,t)}))},n}(Sn)),fn.registerWidgetView("TextInput",/*#__PURE__*/function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._ValueToShow=void 0,e}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=r(n,$e);document.activeElement===this.base?h=this._ValueToShow:this._ValueToShow=h;var g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(Mt||(Mt=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        <textarea ...'," value=","\n          onBlur=","\n        ></textarea>\n      </div>"])),In("PUX TextInput Widget",o),i,g,l||"",c,h||"",this.rerender.bind(this))},n}(Sn)),fn.registerWidgetView("FileDropArea",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.onDrop,c=n.WidgetList,g=r(n,Ke),f=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(Ft||(Ft=a(["<label class="," id=",' style="\n        '," ",'\n      " onDragEnter='," onDragOver="," onDrop=",'>\n        <input type="file" ...',"/>\n        ","\n      </label>"])),In("PUX FileDropArea Widget",o),i,f,l||"",function(t){t.stopPropagation(),t.preventDefault()},function(t){t.stopPropagation(),t.preventDefault()},function(t){t.stopPropagation(),t.preventDefault(),"function"==typeof h&&h(t)},g,(c||[]).map(function(n){return e.html(Ot||(Ot=a(["<"," Widget="," ProtoUX=","/>"])),Sn,n,t.ProtoUX)}))},n}(Sn)),fn.registerWidgetView("Accordion",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.WidgetList,c=r(n,Ze),g=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"";return e.html(Nt||(Nt=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">\n        ","\n      </>"])),In("PUX Accordion Widget",o),i,g,l||"",c,(h||[]).map(function(n){return e.html(Et||(Et=a(["<"," Widget="," ProtoUX=","/>"])),Wn,n,t.ProtoUX)}))},n}(Sn));var Wn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.Height,u=n.Value,d=n.Expansion,p=n.WidgetList,h=r(n,Je),c=this;return e.html(zt||(zt=a(["<div class="," id=",' style="\n        ','; left:0px; top:0px; width:100%; height:auto;\n      " ...','>\n        <div class="PUX Fold-Header">\n          <img class="PUX Fold-Expander" src='," onClick=",'\n          />\n          <div class="PUX Fold-Title">',"</>\n        </div>\n\n        ","\n      </>"])),In("PUX Fold Widget",o),i,l||"",h,d?t.ProtoUX._ImageFolder+"caret-down.png":t.ProtoUX._ImageFolder+"caret-right.png",function(){n.Expansion=!n.Expansion,c.rerender()},u,d?e.html(Rt||(Rt=a(['<div class="PUX Fold-Content" style="\n              height:','px; border:none;\n            ">\n              ',"\n            </>"])),s,(p||[]).map(function(n){return e.html(Bt||(Bt=a(["<"," Widget="," ProtoUX=","/>"])),Sn,n,t.ProtoUX)})):"")},n}(Sn);fn.registerWidgetView("Fold",Wn),fn.registerWidgetView("Deck",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.WidgetList,g=r(n,Qe),f=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",y=(c||[])[null==h?0:h<0?c.length+h:h]||(c||[])[0];return e.html(jt||(jt=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">\n        ","\n      </>"])),In("PUX Deck Widget",o),i,f,l||"",g,null==y?e.html(qt||(qt=a(["<","><span>(no card)</span></>"])),Un):e.html(Yt||(Yt=a(["<"," Widget="," ProtoUX=","/>"])),Pn,y,t.ProtoUX))},n}(Sn));var Pn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.WidgetList,u=r(n,tn);return e.html(Gt||(Gt=a(["<div class="," id=",' style="\n        border:none; ',';\n        left:0px; top:0px; right:0px; bottom:0px; width:auto; height:auto\n      " ...',">\n        ","\n      </>"])),In("PUX Card Widget",o),i,l||"",u,(s||[]).map(function(n){return e.html($t||($t=a(["<"," Widget="," ProtoUX=","/>"])),Sn,n,t.ProtoUX)}))},n}(Sn);fn.registerWidgetView("Card",Pn),fn.registerWidgetView("TabStrip",/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.x,u=n.y,d=n.Width,p=n.Height,h=n.Value,c=n.WidgetList,g=r(n,en),f=null!=s&&null!=d&&null!=u&&null!=p?"left:"+s+"px; top:"+u+"px; width:"+d+"px; height:"+p+"px; right:auto; bottom:auto;":"",y=(c||[])[null==h?0:h<0?c.length+h:h]||(c||[])[0],x=this;return e.html(Kt||(Kt=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">\n        ","\n      </>"])),In("PUX TabStrip Widget",o),i,f,l||"",g,(c||[]).map(function(n,i){return e.html(Zt||(Zt=a(["\n          <"," Widget="," ProtoUX=","\n            active=","\n            onClick=","\n          />\n        "])),Vn,n,t.ProtoUX,n===y,function(){return function(t){x.base.dispatchEvent(new CustomEvent("ValueChange",{detail:t}))}(i)})}))},n}(Sn));var Vn=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){var n=t.Widget;n.View=this;var i=n.Id,o=n.Classes,l=n.Style,s=n.Width,u=n.WidgetList,d=r(n,nn),p=t.active,h=t.onClick;return e.html(Jt||(Jt=a(["<div class="," id=",' style="\n        ',"; width:","px; border:none; border-width:0px 0px 4px 0px;\n        border-style:solid; border-bottom-color:",'\n      " ...'," onClick=",">\n        ","\n      </div>"])),In('PUX ${active ? "active" : ""} Tab Widget',o),i,l||"",s,p?"black":"transparent",d,h,(u||[]).map(function(n){return e.html(Qt||(Qt=a(["<"," Widget="," ProtoUX=","/>"])),Sn,n,t.ProtoUX)}))},n}(Sn);function In(t,e){var n=Object.create(null);return(t+" "+(e||"")).trim().replace(/\s+/g," ").split(" ").filter(function(t){return!(t in n)&&(n[t]=!0,!0)}).join(" ")}fn.registerWidgetView("Tab",Vn),fn.registerWidgetView("FlatListView",/*#__PURE__*/function(n){function i(){return n.apply(this,arguments)||this}return o(i,n),i.prototype.render=function(n){var i=n.Widget;i.View=this;var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.Width,h=i.Height,c=i.List,g=i.ItemRenderer,f=i.Placeholder,y=i.selectedIndices,x=i.SelectionLimit,m=i.onSelectionChange,v=i.onItemSelected,w=i.onItemDeselected,b=r(i,on),S=null!=u&&null!=p&&null!=d&&null!=h?"left:"+u+"px; top:"+d+"px; width:"+p+"px; height:"+h+"px; right:auto; bottom:auto;":"";t.expectArray("item list",c),t.allowFunction("list item renderer",g),t.allowTextline("list placeholder",f),t.allowListSatisfying("list of selected indices",y,t.ValueIsOrdinal),t.allowOrdinal("selection limit",x),t.allowFunction("selection change callback",m),t.allowFunction("item selection callback",v),t.allowFunction("item deselection callback",w),null==g&&(g=function(t){return e.html(te||(te=a(["",""])),t+"")}),null==f&&(f="(empty)"),null==y&&(y=[]),null==x&&(x=1);var W=Object.create(null);if((y=y.filter(function(e){return!(!(t.ValueIsOrdinal(e)&&e>=0&&e<c.length)||e in W||(W[e]=!0,0))})).length>x){var P=y.slice(x);y.length=x,null!=m&&m(y),null!=w&&P.forEach(function(t){w(c[t],t)})}function V(t){return t in W}return e.html(ee||(ee=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">\n        ","\n      </>"])),In("PUX FlatListView Widget",l),o,S,s||"",b,0===c.length?e.html(ne||(ne=a(['<div class="centered"><span>',"</></>"])),f):c.map(function(t,n){return e.html(ie||(ie=a(["<div\n              class=","\n              dangerouslySetInnerHTML=","\n              onClick=","\n            />"])),V(n)?"selected":void 0,{__html:g(t,n,V(n))},function(t){return function(t,e){if(t.stopImmediatePropagation(),t.preventDefault(),0!==x){var n,i,o=!1;t.shiftKey||t.metaKey?(o=!0,V(e)?(i=[e],y=y.filter(function(t){return t!==e})):(y.length===x&&(i=[y.shift()]),n=[e],y.push(e))):(i=y.filter(function(t){return t!==e}),n=(o=!V(e))?[e]:[],y=[e]),o&&null!=m&&m(y),null!=i&&null!=w&&i.forEach(function(t){w(c[t],t)}),null!=n&&null!=v&&n.forEach(function(t){v(c[t],t)})}}(t,n)})}))},i}(Sn)),fn.registerWidgetView("NestedListView",/*#__PURE__*/function(n){function i(){return n.apply(this,arguments)||this}return o(i,n),i.prototype.render=function(n){var i=n.Widget;i.View=this;var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.Width,h=i.Height,c=i.List,g=i.ItemRenderer,f=i.Placeholder,y=i.LabelOfItem,x=i.ContentListOfItem,m=i.selectedPaths,v=i.SelectionLimit,w=i.SelectionMode,b=i.onSelectionChange,S=i.onItemSelected,W=i.onItemDeselected,P=i.onItemDoubleClicked,V=i.expandedPaths,I=i.Indentation,U=i.onExpansionChange,X=i.onItemExpanded,D=i.onItemCollapsed,C=r(i,rn),T=null!=u&&null!=p&&null!=d&&null!=h?"left:"+u+"px; top:"+d+"px; width:"+p+"px; height:"+h+"px; right:auto; bottom:auto;":"";function k(e){return t.ValueIsListSatisfying(e,t.ValueIsOrdinal)}function _(e){for(var n=c[e[0]],i=1,o=e.length;i<o;i++){if(null==n)return;var r=x(n);if(!t.ValueIsArray(r))return;n=r[e[i]]}return n}function A(t){return null!=_(t)}function H(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})}function L(t,e){for(var n=0,i=e.length;n<i;n++)if(H(t,e[n]))return n;return-1}function M(t,e){return t.length===e.length+1&&H(t.slice(0,e.length),e)}function F(t){return L(t,m)>=0}if(t.expectArray("item list",c),t.allowFunction("list item renderer",g),t.allowTextline("list placeholder",f),t.expectFunction("label extraction function",y),t.expectFunction("content extraction function",x),t.allowListSatisfying("list of selected paths",m,k),t.allowOrdinal("selection limit",v),t.allowOneOf("selection mode",w,["same-container","any-container"]),t.allowFunction("selection change callback",b),t.allowFunction("item selection callback",S),t.allowFunction("item deselection callback",W),t.allowFunction("item double-click callback",P),t.allowListSatisfying("list of expanded paths",V,k),t.allowOrdinal("indentation",I),t.allowFunction("expansion change callback",U),t.allowFunction("item expansion callback",X),t.allowFunction("item collapse callback",D),null==g&&(g=function(t,n){return e.html(oe||(oe=a(['<div class="ItemLabel">',"</div>"])),y(t))}),null==f&&(f="(empty)"),null==m&&(m=[]),null==v&&(v=1),null==w&&(w="same-container"),null==V&&(V=[]),null==I&&(I=10),(m=(m=m.filter(function(t){return A(t)})).filter(function(t,e){return L(t,m)===e})).length>1&&"same-container"===w){var O=m[0].slice(0,m[0].length-1);m=m.filter(function(t){return M(t,O)})}function N(i,o){var r=(o.length-1)*I,l=F(o),s=function(t){return L(t,V)>=0}(o),u=x(i);t.ValueIsArray(u)||(u=[]);var d=u.length>0;return e.html(re||(re=a(['<div class="ItemView" style="padding-left:','px">\n          <div class="ItemLine ','"\n            onClick='," onDblClick=","\n          >\n            "," ","\n          </div>\n          ","\n        </div>"])),r,l?"selected":"",function(t){!function(t,e,n){if(t.stopImmediatePropagation(),t.preventDefault(),0!==v){var i,o,r=!1;if(t.shiftKey||t.metaKey)if(r=!0,F(n))o=[n],m=m.filter(function(t){return!H(n,t)});else{var l=n.slice(0,n.length-1);o=m.filter(function(t){return!M(t,l)}),(m=m.filter(function(t){return M(t,l)})).length===v&&o.push([m.shift()]),i=[n],m.push(n)}else o=m.filter(function(t){return!H(n,t)}),i=(r=!F(n))?[n]:[],m=[n];r&&null!=b&&b(m),null!=o&&null!=W&&o.forEach(function(t){W(_(t),t)}),null!=i&&null!=S&&i.forEach(function(t){S(_(t),t)})}}(t,0,o)},function(t){!function(t,e,n){null!=P&&(t.stopImmediatePropagation(),t.preventDefault(),P(e,n,t))}(t,i,o)},d?e.html(s?le||(le=a(['<img class="ItemExpander" src="','/caret-down.png"  onClick=',"/>"])):ae||(ae=a(['<img class="ItemExpander" src="','/caret-right.png" onClick=',"/>"])),n.ProtoUX._ImageFolder,function(t){!function(t,e,n){t.stopImmediatePropagation(),t.preventDefault();var i=L(n,V);i<0?V.push(n):V.splice(i,1),null!=U&&U(V),i<0?null!=X&&X(e,n):null!=D&&D(e,n)}(t,i,o)}):e.html(se||(se=a(['<img class="ItemIcon" src="','/circle.png"/>'])),n.ProtoUX._ImageFolder),g(i,o),d&&s?u.map(function(t,e){return N(t,o.concat(e))}):"")}return V=(V=V.filter(function(t){return A(t)})).filter(function(t,e){return L(t,V)===e}),e.html(ue||(ue=a(["<div class="," id=",' style="\n        '," ",'\n      " ...',">\n        ","\n      </>"])),In("PUX NestedListView Widget",l),o,T,s||"",C,0===c.length?e.html(de||(de=a(['<div class="centered"><span>',"</></>"])),f):c.map(function(t,e){return N(t,[e])}))},i}(Sn)),fn.registerWidgetView("Placeholder",/*#__PURE__*/function(n){function i(){return n.apply(this,arguments)||this}return o(i,n),i.prototype.render=function(n){var i=n.Widget;i.View=this;var o=i.Id,l=i.Classes,s=i.Style,u=i.x,d=i.y,p=i.Width,h=i.Height,c=i.Substitute,g=i.Placeholder,f=r(i,ln);t.allowFunction("Substitute",c),t.allowTextline("placeholder text",g),null==g&&(g="(empty)");var y=null!=u&&null!=p&&null!=d&&null!=h?"left:"+u+"px; top:"+d+"px; width:"+p+"px; height:"+h+"px; right:auto; bottom:auto;":"";return e.html(pe||(pe=a(["<div class="," id=",' style="\n        '," ",'\n      ">\n        ',"\n      </div>"])),In("PUX Placeholder Widget",l),o,y,s||"",null==c?e.html(he||(he=a(['<div class="centered"><span>',"</></>"])),g):e.html(ce||(ce=a(["<"," ...","/>"])),c,f))},i}(Sn));var Un=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(t){return e.html(ge||(ge=a(['<div class="centered">\n        ',"\n      </div>"])),t.children)},n}(e.Component);exports.DragClickRecognizerFor=function(t,e){var n,i=gn.get(t);if(null!=i)return i;function o(){}function r(t){t.stopImmediatePropagation(),t.preventDefault()}var l,a,s=e.onlyFrom,u=e.neverFrom,d=e.Threshold,p=void 0===d?0:d,h=e.onDragStarted,c=void 0===h?o:h,g=e.onDragContinued,f=void 0===g?o:g,y=e.onDragFinished,x=void 0===y?o:y,m=e.onDragCancelled,v=void 0===m?o:m,w=e.onClicked,b=void 0===w?o:w,S=e.MultiClickTimeSpan,W=void 0===S?300:S,P=e.onMultiClick,V=void 0===P?o:P,I="idle",U=0,X=0;function D(t){r(t),I="busy";var e=t.pageX,n=t.pageY;c(Math.round(e),Math.round(n),Math.round(e-l),Math.round(n-a),t)}function C(t){if(r(t),"idle"!==I){var e="busy"===I;I="idle",t.target.releasePointerCapture(t.pointerId),e&&v(Math.round(l),Math.round(a),0,0,t)}n=void 0}return(i=function(t){switch(t.type){case"pointerdown":return function(t){t.isPrimary&&(null!=s&&(s instanceof HTMLElement&&s!==t.target||"string"==typeof s&&!t.target.matches(s))||null!=u&&(u instanceof HTMLElement&&u===t.target||"string"==typeof u&&t.target.matches(u))||(0===t.button?(t.target.setPointerCapture(t.pointerId),n=t.target,"idle"===I&&(l=t.pageX,a=t.pageY,p>0?I="observing":D(t))):C(t)))}(t);case"pointermove":return function(t){if("idle"!==I&&t.target!==n&&(t.target.setPointerCapture(t.pointerId),n=t.target,console.log("ProtoUX: PointerTarget changed")),"busy"===I)return function(t){r(t);var e=t.pageX,n=t.pageY;f(Math.round(e),Math.round(n),Math.round(e-l),Math.round(n-a),t)}(t);if("observing"===I){var e=t.pageY;Math.pow(l-t.pageX,2)+Math.pow(a-e,2)>=Math.pow(p,2)&&D(t)}}(t);case"pointerup":return function(t){if("busy"===I)return function(t){r(t),I="idle";var e=t.pageX,i=t.pageY;x(Math.round(e),Math.round(i),Math.round(e-l),Math.round(i-a),t),n=void 0}(t);if("observing"===I){r(t),I="idle",b(l,a,t);var e=Date.now();e-U<W?(X+=1)>1&&V(X,l,a,t):X=1,U=e}}(t);case"pointercancel":return function(t){C(t)}(t)}}).abortDragging=C,gn.set(t,i),i},exports.DragRecognizerFor=cn,exports.ProtoUX=fn,exports.throwError=dn,exports.throwReadOnlyError=pn;
//# sourceMappingURL=protoux.cjs.map
